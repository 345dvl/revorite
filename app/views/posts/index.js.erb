$(".main-posts-contents").html("<%= j(render partial: "posts/posts", locals: {posts: @posts}) %>");

var post_previous_class = "none";
var post_hash_images = {};

$("[class^='luminous-post-']").each(function (i, elm){
  if($(elm).attr("class") != post_previous_class){
    post_hash_images[$(elm).attr("class")] = "single";
  } else {
    post_hash_images[$(elm).attr("class")] = "multiple";
  }
  post_previous_class = $(elm).attr("class");
})

Object.keys(post_hash_images).forEach(function(key){
  if(post_hash_images[key] == "multiple") {
    var luminousTrigger = document.querySelectorAll('.' + key);
    new LuminousGallery(luminousTrigger);
  } else if(post_hash_images[key] == "single"){
    var luminousTrigger = document.querySelector('.' + key);
    new Luminous(luminousTrigger);
  }
});

// Luminousを用いたコメント画像をクリックで拡大表示するための設定
var comment_previous_class = "none";
var comment_hash_images = {};

$("[class^='luminous-comment-']").each(function (i, elm){
  if($(elm).attr("class") != comment_previous_class){
    comment_hash_images[$(elm).attr("class")] = "single";
  } else {
    comment_hash_images[$(elm).attr("class")] = "multiple";
  }
  comment_previous_class = $(elm).attr("class");
})

Object.keys(comment_hash_images).forEach(function(key){
  if(comment_hash_images[key] == "multiple") {
    var luminousTrigger = document.querySelectorAll('.' + key);
    new LuminousGallery(luminousTrigger);
  } else if(comment_hash_images[key] == "single"){
    var luminousTrigger = document.querySelector('.' + key);
    new Luminous(luminousTrigger);
  }
});